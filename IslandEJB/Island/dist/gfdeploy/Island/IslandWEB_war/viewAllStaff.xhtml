<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                template="./template/DefaultTemplate.xhtml"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:p="http://primefaces.org/ui"
                xmlns:f="http://xmlns.jcp.org/jsf/core">

    <ui:define name="top">
        top
    </ui:define>

    <ui:define name="left">
        viewAllEvents.xhtml
    </ui:define>

    <ui:define name="content">
        <h:form id="form">
    <p:contextMenu for="staff">
        <p:menuitem value="View" update="staffDetail" icon="ui-icon-search" oncomplete="PF('staffDialog').show()"/>
        <p:menuitem value="Delete" update="cars" icon="ui-icon-close" actionListener="#{viewAllStaffManagedBean.deleteStaff}"/>
    </p:contextMenu>
 
    <p:dataTable id="cars" var="car" value="#{viewAllStaffManagedBean.staff}" rowKey="#{staff.id}"
                 selection="#{viewAllStaffManagedBean.selectedStaff}" selectionMode="single">
        <f:facet name="header">
            RightClick to View Options
        </f:facet>
        <p:column headerText="Id">
            <h:outputText value="#{staff.id}" />
        </p:column>
        <p:column headerText="Name">
            <h:outputText value="#{staff.name}" />
        </p:column>
        <p:column headerText="Username">
            <h:outputText value="#{staff.username}" />
        </p:column>
        <p:column headerText="Email">
            <h:outputText value="#{staff.email}" />
        </p:column>
    </p:dataTable> 
 
    <p:dialog header="Staff Info" widgetVar="staffDialog" modal="true" showEffect="fade" hideEffect="fade" resizable="false">
        <p:outputPanel id="staffDetail" style="text-align:center;">
            <p:panelGrid  columns="2" rendered="#{not empty viewAllStaffManagedBean.selectedStaff}" columnClasses="label,value">
 
                <h:outputText value="Id:" />
                <h:outputText value="#{viewAllStaffManagedBean.selectedStaff.id}" />
 
                <h:outputText value="Name:" />
                <h:outputText value="#{viewAllStaffManagedBean.selectedStaff.name}" />
 
                <h:outputText value="Username:" />
                <h:outputText value="#{viewAllStaffManagedBean.selectedStaff.username}"/>
 
                <h:outputText value="Email: " />
                <h:outputText value="$#{viewAllStaffManagedBean.selectedStaff.email}" />
                
                <h:outputText value="Contact No: " />
                <h:outputText value="$#{viewAllStaffManagedBean.selectedStaff.contact}" />
                
                <h:outputText value="Roles: " />
                <h:outputText value="$#{viewAllStaffManagedBean.selectedStaff.roles}" />
            </p:panelGrid>
        </p:outputPanel>
    </p:dialog>
</h:form>
    </ui:define>

</ui:composition>
